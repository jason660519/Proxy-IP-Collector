# 專案開發環境啟動步驟手冊

## 📋 概述
本手冊詳細說明如何啟動代理IP池收集器專案的開發環境，包括後端API服務器和前端React應用程式。

## 🎯 專案架構
- **後端**: FastAPI + Python (端口: 8000)
- **前端**: React + TypeScript (端口: 3000)
- **虛擬環境**: UV (Python包管理器)

## 🚀 啟動步驟

### 步驟1: 環境檢查
確保您位於專案根目錄：
```bash
cd c:\Users\a0922\OneDrive\Desktop\My Proxy Collector
```

### 步驟2: 後端服務器啟動

#### 2.1 進入後端目錄並啟動虛擬環境
```bash
cd backend
.\.venv\Scripts\activate
```

#### 2.2 安裝依賴包（首次啟動需要）
```bash
uv pip install -r requirements.txt
```

#### 2.3 啟動後端API服務器
```bash
python react_server.py
```

成功啟動後，您應該看到：
```
🚀 啟動代理IP池收集器API服務器...
📡 API地址: http://localhost:8000
🔗 健康檢查: http://localhost:8000/api/health
📊 代理統計: http://localhost:8000/api/v1/proxies/stats
🕷️ 爬取狀態: http://localhost:8000/api/v1/crawl/status
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Application startup complete.
```

### 步驟3: 前端服務器啟動

#### 3.1 開啟新的終端機，進入前端目錄
```bash
cd frontend-react
```

#### 3.2 安裝依賴包（首次啟動需要）
```bash
npm install
```

#### 3.3 啟動前端開發伺服器
```bash
npm run dev
```

成功啟動後，您應該看到：
```
  VITE v4.5.14  ready in 1146 ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: use --host to expose
  ➜  press h to show help
```

## 🔗 訪問地址

### 後端API
- **API文檔**: http://localhost:8000/docs
- **健康檢查**: http://localhost:8000/api/health
- **代理統計**: http://localhost:8000/api/v1/proxies/stats
- **爬取狀態**: http://localhost:8000/api/v1/crawl/status

### 前端應用
- **主應用**: http://localhost:3000/

## ✅ 驗證步驟

### 後端驗證
執行以下命令測試API是否正常運行：
```powershell
Invoke-WebRequest -Uri http://localhost:8000/api/health -Method GET
```

預期響應：
- StatusCode: 200
- 內容包含: `{"status":"healthy","message":"系統運行正常"}`

### 前端驗證
1. 開啟瀏覽器訪問 http://localhost:3000/
2. 確認頁面正常載入，無錯誤訊息

## 🛠️ 故障排除

### 常見問題

1. **端口被佔用**
   - 後端：檢查端口8000是否被佔用
   - 前端：檢查端口3000是否被佔用

2. **依賴包安裝失敗**
   - 確保已正確啟動虛擬環境
   - 檢查網路連接是否正常
   - 嘗試清除快取後重新安裝

3. **Python版本不符**
   - 確保Python版本為3.12+
   - 使用`python --version`檢查版本

### 重新啟動步驟
如需重新啟動服務：
1. 在終端機中按 `Ctrl+C` 停止當前服務
2. 重新執行相應的啟動命令

## 📊 服務狀態監控

### 後端監控端點
- **健康狀態**: GET `/api/health`
- **代理統計**: GET `/api/v1/proxies/stats`
- **爬取狀態**: GET `/api/v1/crawl/status`

### 日誌查看
- 後端日誌：在啟動後端服務的終端機中查看
- 前端日誌：在啟動前端服務的終端機中查看

## 📞 支援與聯繫
如遇到無法解決的問題，請聯繫DevOps團隊或提交Issue。

---

**最後更新**: 2025-09-21  
**文件版本**: v1.0  
**維護者**: DevOps Team