# 專案開發環境啟動步驟手冊

**更新日期**: 2024年12月19日 15:30  
**文件版本**: v1.0  
**維護人員**: Junior DevOps Engineer

## 環境狀態確認

### ✅ 當前環境檢查結果

1. **工作目錄**: `C:\Users\a0922\OneDrive\Desktop\My Proxy Collector`
2. **虛擬環境**: 已啟動 (.venv)
3. **Python版本**: 3.12.9
4. **依賴安裝狀態**: 
   - ✅ 後端依賴: 已安裝完成
   - ✅ 前端依賴: 已安裝完成

### 📋 依賴包清單

#### 後端主要依賴
- FastAPI 框架及相關組件
- 數據庫: asyncpg, alembic
- 異步處理: aiofiles, aiosignal, anyio
- 爬蟲: beautifulsoup4
- 任務隊列: celery, amqp, billiard
- 開發工具: black (代碼格式化)

#### 前端主要依賴
- React 18 + TypeScript
- UI組件: Ant Design 5.27.4
- 狀態管理: @reduxjs/toolkit, react-redux
- HTTP客戶端: axios
- 圖表: echarts, recharts
- 開發工具: vite, eslint, prettier

## 🚀 服務器啟動步驟

### 步驟1: 啟動後端服務器

```bash
# 進入後端目錄
cd backend

# 啟動後端服務器（使用Python直接運行）
python -m uvicorn react_server:app --host 0.0.0.0 --port 8000 --reload
```

**啟動成功指標**:
- ✅ Uvicorn running on http://0.0.0.0:8000
- ✅ Application startup complete
- ✅ API文檔可訪問: http://localhost:8000/docs

### 步驟2: 啟動前端服務器

```bash
# 在新終端中，進入前端目錄
cd frontend-react

# 啟動前端開發服務器
npm run dev
```

**啟動成功指標**:
- ✅ VITE v4.5.14 ready
- ✅ Local: http://localhost:3001/ (端口可能因佔用而變化)
- ✅ 前端應用可正常訪問

## 🔗 訪問地址

### 開發環境訪問點

| 服務 | 地址 | 狀態 |
|------|------|------|
| 前端應用 | http://localhost:3001 | ✅ 運行中 |
| 後端API | http://localhost:8000 | ✅ 運行中 |
| API文檔 | http://localhost:8000/docs | ✅ 可訪問 |

### 端口說明
- 後端端口: 8000 (固定)
- 前端端口: 3000 (默認)，如被佔用會自動切換到3001、3002等

## ⚠️ 常見問題處理

### 1. 端口被佔用
- **前端端口3000被佔用**: Vite會自動切換到下一個可用端口(3001, 3002等)
- **後端端口8000被佔用**: 需要停止佔用該端口的進程，或修改配置

### 2. 依賴問題
- **後端依賴缺失**: 執行 `uv pip install -r requirements.txt`
- **前端依賴缺失**: 執行 `npm install`

### 3. 虛擬環境問題
- **虛擬環境未啟動**: 執行 `uv shell` 或 `source .venv/bin/activate`

## 📊 性能指標

### 當前環境性能
- 後端啟動時間: ~3-5秒
- 前端啟動時間: ~1-2秒
- 熱重載: 已啟用
- 調試模式: 已啟用

## 📝 後續維護建議

1. **定期更新依賴**: 每月檢查並更新依賴包
2. **環境備份**: 定期備份虛擬環境和依賴配置
3. **端口管理**: 記錄各服務使用的端口，避免衝突
4. **日誌監控**: 定期檢查服務器日誌，及時發現問題

## 📞 聯繫方式

- **DevOps團隊**: 負責環境維護和問題處理
- **開發團隊**: 負責代碼相關問題
- **問題反饋**: 在項目Issues中提交

---

**備註**: 本手冊基於2024年12月19日的環境檢查結果編寫，如有環境變更請及時更新文檔。